<!DOCTYPE html>
<html class="mdc-typography">
  <head>
    <meta charset="utf-8">
    <link rel='manifest' href='./manifest.json'>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Text to Speech App</title>
    
    <!-- material components styles -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
  
    <!-- material icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">  
  </head>
  <body>
    <header class="mdc-toolbar">
      <div class="mdc-toolbar__row">
        <section class="mdc-toolbar__section mdc-toolbar__section--align-start">
          <span class="mdc-toolbar__title">Text to Speech</span>
        </section>
        <section class="mdc-toolbar__section mdc-toolbar__section--align-end" role="toolbar">
        <a href="#" id="clearCache" class="material-icons mdc-toolbar__icon" aria-label="Clear cache" alt="Clear Cache"><i class="material-icons">refresh</i></a>        </section>
      </div>
    </header>
    <h1 class="mdc-typography--display1">Hello, World!</h1>
    <button type="button" class="mdc-button mdc-button--raised">
      Welcome to Lane Tech.
    </button>
     <button type="button" class="mdc-button mdc-button--raised">
      Hello World
    </button>
    <button type="button" class="mdc-button mdc-button--raised">
      All you're bases are belong to us.
    </button>
    <button type="button" class="mdc-button mdc-button--raised">
      We're no strangers to love
      You know the rules and so do I
      A full commitment's what I'm thinking of
      You wouldn't get this from any other guy
      I just wanna tell you how I'm feeling
      Gotta make you understand.
      
      Never gonna give you up,
      Never gonna let you down
      Never gonna run around and desert you
      Never gonna make you cry,
      Never gonna say goodbye
      Never gonna tell a lie and hurt you
    </button>
    <button type="button" class="mdc-button mdc-button--raised">
      i am bat man
    </button>
    <button type="button" class="mdc-button mdc-button--raised">
      the reason that the american army does so well in wartime, is that war is chaos, and the american army practices chaos on a daily basis
    </button>
    
    <div class="mdc-snackbar"
     aria-live="assertive"
     aria-atomic="true"
     aria-hidden="true"
     data-mdc-auto-init="MDCSnackbar">
      <div class="mdc-snackbar__text"></div>
      <div class="mdc-snackbar__action-wrapper">
        <button type="button" class="mdc-snackbar__action-button"></button>
      </div>
    </div>
    
    
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    
    <!-- Material Components -->
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script>window.mdc.autoInit();</script>

    <script>
        // register the service worker for offline use
        if('serviceWorker' in navigator) {
          navigator.serviceWorker
                   .register('./sw.js')
                   .then(function() { console.log("Service Worker Registered"); });
        }
        
        
        // reusable function to use the speech API
        
         function sayIt (setOfWords) {
           var msg = new SpeechSynthesisUtterance(setOfWords);
           window.speechSynthesis.speak(msg);
         }
        
        
            
        // hook up event handler on the buttons
        
         $("button").on("click", function() {
           sayIt($(this).text());
         });
        



        // need to be able to clear the cache to load new versions
        
        $("#clearCache").on("click", function() {
           caches.open('textToSpeech').then(function(cache) {
              cache.delete('./');
              cache.delete('./index.html').then(function(response) {
                  var snackbar = new MDCSnackbar(document.querySelector('.mdc-snackbar'));
                  var dataObj = {
                    message: 'Cache cleared'
                  };
                snackbar.show(dataObj);
              });
            });
        });



        // Material Components Snackbar stuff
        
        const MDCSnackbar = mdc.snackbar.MDCSnackbar;
        const MDCSnackbarFoundation = mdc.snackbar.MDCSnackbarFoundation;
        



    </script>

  </body>
</html>
